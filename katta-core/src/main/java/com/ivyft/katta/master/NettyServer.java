package com.ivyft.katta.master;import org.jboss.netty.bootstrap.ServerBootstrap;import org.jboss.netty.channel.ChannelPipelineFactory;import org.jboss.netty.channel.socket.nio.NioServerSocketChannelFactory;import java.net.InetSocketAddress;import java.util.concurrent.Executors;/** * <pre> * * Created by IntelliJ IDEA. * User: ZhenQin * Date: 13-5-31 * Time: 上午11:06 * To change this template use File | Settings | File Templates. * * </pre> * * @author ZhenQin */public class NettyServer {    /**     * 控制器     */    private ChannelPipelineFactory channelPipelineFactory = null;    /**     * 服务端口号     */    private int port = 2808;    /**     * default constructor     */    public NettyServer() {    }    public void afterPropertiesSet() throws Exception {        ServerBootstrap bootstrap;        bootstrap = new ServerBootstrap(                new NioServerSocketChannelFactory(                        Executors.newCachedThreadPool(),                        Executors.newCachedThreadPool()));        bootstrap.setPipelineFactory(channelPipelineFactory);        bootstrap.setOption("child.tcpNoDelay", true); //注意child前缀        bootstrap.setOption("child.keepAlive", true); //注意child前缀        //启动端口 8080        bootstrap.bind(new InetSocketAddress(port));    }    public ChannelPipelineFactory getChannelPipelineFactory() {        return channelPipelineFactory;    }    public void setChannelPipelineFactory(ChannelPipelineFactory channelPipelineFactory) {        this.channelPipelineFactory = channelPipelineFactory;    }    public int getPort() {        return port;    }    public void setPort(int port) {        this.port = port;    }}